(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(2455)}])},2455:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return Home}});var s=a(5893),n=a(7294),l=a(9008),o=a.n(l);function DarkModeToggle(){let[e,t]=(0,n.useState)(!0);return(0,n.useEffect)(()=>{document.documentElement.classList.add("dark"),t(!0)},[]),(0,s.jsx)("div",{className:"toggle-container",onClick:()=>{let a=!e;t(a),a?(document.documentElement.classList.add("dark"),document.documentElement.classList.remove("light")):(document.documentElement.classList.remove("dark"),document.documentElement.classList.add("light"))},role:"button","aria-label":"Toggle dark mode",children:(0,s.jsx)("div",{className:"toggle-dot ".concat(e?"dark":"light")})})}function NodesList(e){let{onNodeSelect:t,className:a=""}=e,[l,o]=(0,n.useState)([]),[r,i]=(0,n.useState)(null),[d,c]=(0,n.useState)(!0);(0,n.useEffect)(()=>{loadNodes()},[]);let parseCSVLine=e=>{let t=[],a="",s=!1;for(let n=0;n<e.length;n++){let l=e[n];'"'===l&&(0===n||","===e[n-1])?s=!0:'"'===l&&s&&(n===e.length-1||","===e[n+1])?s=!1:","!==l||s?a+=l:(t.push(a.trim()),a="")}return t.push(a.trim()),t},loadNodes=async()=>{try{let e=await fetch("".concat("/data-pipeline","/nodes.csv"));if(e.ok){let t=await e.text(),a=t.split("\n").filter(e=>e.trim()),s=parseCSVLine(a[0]),n=[];for(let e=1;e<a.length;e++){let t=parseCSVLine(a[e]);if(t.length>=s.length-1){let e={};s.forEach((a,s)=>{e[a.trim()]=t[s]?t[s].trim():""}),n.push(e)}}o(n)}else{let e=await fetch("".concat("/data-pipeline/admin","/api/nodes"));if(e.ok){let t=await e.json();o(t)}else o(generateSampleNodes())}}catch(e){console.error("Failed to load nodes:",e),o(generateSampleNodes())}finally{c(!1)}},generateSampleNodes=()=>[{node_id:"eco_001",name:"Economic Data Fetcher",description:"Fetches economic data from USEEIO API",type:"data_fetcher",order:1,processing_time_est:"medium",folder_size:"207M"},{node_id:"zip_001",name:"Zipcode Metrics Generator",description:"Generates zipcode metrics from Census ZBP API",type:"data_processor",order:2,processing_time_est:"fast",folder_size:"24K"},{node_id:"naics_001",name:"NAICS Timeline Aggregator",description:"Aggregates NAICS data across years (2017-2020)",type:"data_aggregator",order:5,processing_time_est:"medium",folder_size:"20K"},{node_id:"ml_001",name:"Random Forest Automator",description:"Automates random forest analysis for poverty prediction",type:"ml_processor",order:9,processing_time_est:"slow",folder_size:"375M"},{node_id:"trade_001",name:"Comtrade Data Fetcher",description:"Fetches trade data from UN Comtrade API",type:"api_fetcher",order:20,processing_time_est:"medium",folder_size:"15M"}],handleNodeClick=(e,a)=>{let s=window.getSelection();s&&s.toString().length>0||(i(a),null==t||t(a))},getTypeColor=e=>({data_fetcher:"text-blue-400",data_processor:"text-cyan-400",data_aggregator:"text-emerald-400",ml_processor:"text-orange-400",api_fetcher:"text-blue-400"})[e]||"text-gray-400";return d?(0,s.jsx)("div",{className:"panel p-6 ".concat(a),children:(0,s.jsxs)("div",{className:"animate-pulse",children:[(0,s.jsx)("div",{className:"h-4 bg-dark-panel-alt rounded mb-4"}),(0,s.jsx)("div",{className:"space-y-3",children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,s.jsx)("div",{className:"h-12 bg-dark-panel-alt rounded"},t))})]})}):(0,s.jsxs)("div",{className:"panel ".concat(a),style:{padding:"30px"},children:[(0,s.jsx)("h2",{className:"text-xl mb-6 text-gray-100 light:text-gray-900",children:"Nodes"}),(0,s.jsx)("div",{className:"space-y-3",children:l.map(e=>(0,s.jsxs)("div",{className:"p-4 rounded-lg cursor-pointer transition-all duration-200 border select-text ".concat((null==r?void 0:r.node_id)===e.node_id?"bg-blue-500/10 border-blue-500/30":"bg-gray-700 hover:bg-gray-600 border-gray-600 hover:border-cyan-400/30 light:bg-gray-100 light:hover:bg-gray-50 light:border-gray-300 light:hover:border-cyan-500/30"),onClick:t=>handleNodeClick(t,e),children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsx)("span",{className:"text-sm font-mono text-gray-400",children:e.node_id})}),(0,s.jsx)("span",{className:"text-xs text-gray-400",children:e.folder_size})]}),(0,s.jsx)("h3",{className:"font-semibold text-sm mb-1 text-gray-100 light:text-gray-900",children:e.name}),(0,s.jsx)("p",{className:"text-xs text-muted mb-2 line-clamp-2",children:e.description}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-xs font-medium ".concat(getTypeColor(e.type)),children:e.type.replace("_"," ")}),(0,s.jsxs)("span",{className:"text-xs text-gray-400",children:["#",e.order]})]})]},e.node_id))})]})}function FlowChart(e){let{className:t=""}=e,[a,l]=(0,n.useState)([]),[o,r]=(0,n.useState)([]),[i,d]=(0,n.useState)(!0),[c,m]=(0,n.useState)(null),[u,x]=(0,n.useState)({x:0,y:0}),h=(0,n.useRef)(null);(0,n.useEffect)(()=>{loadFlowData()},[]);let loadFlowData=async()=>{try{let e=await fetch("".concat("/data-pipeline","/nodes.json"));if(e.ok){let t=await e.json();l(t.nodes||[]),r(t.connections||{})}else generateSampleFlow()}catch(e){console.error("Failed to load flow data:",e),generateSampleFlow()}finally{d(!1)}},generateSampleFlow=()=>{l([{id:"trigger",name:"Start Pipeline",position:[100,300],type:"trigger"},{id:"eco_001",name:"Economic Data Fetcher",position:[300,100],type:"data_fetcher"},{id:"zip_001",name:"Zipcode Metrics",position:[500,200],type:"data_processor"},{id:"naics_001",name:"NAICS Timeline",position:[700,300],type:"data_aggregator"},{id:"ml_001",name:"ML Processor",position:[900,400],type:"ml_processor"}]),r({"Start Pipeline":{main:[[{node:"Economic Data Fetcher",type:"main",index:0}]]},"Economic Data Fetcher":{main:[[{node:"Zipcode Metrics",type:"main",index:0}]]},"Zipcode Metrics":{main:[[{node:"NAICS Timeline",type:"main",index:0}]]},"NAICS Timeline":{main:[[{node:"ML Processor",type:"main",index:0}]]}})},getNodeColor=e=>({trigger:"#10b981",data_fetcher:"#3b82f6",data_processor:"#06b6d4",data_aggregator:"#10b981",ml_processor:"#f59e0b",api_fetcher:"#8b5cf6"})[e]||"#6b7280",handleNodeMouseDown=(e,t)=>{e.preventDefault();let a=h.current.getBoundingClientRect(),s=h.current.createSVGPoint();s.x=e.clientX-a.left,s.y=e.clientY-a.top;let n=s.matrixTransform(h.current.getScreenCTM().inverse());m(t.id),x({x:n.x-t.position[0],y:n.y-t.position[1]})},handleMouseMove=e=>{if(c&&h.current){let t=h.current.getBoundingClientRect(),a=h.current.createSVGPoint();a.x=e.clientX-t.left,a.y=e.clientY-t.top;let s=a.matrixTransform(h.current.getScreenCTM().inverse());l(e=>e.map(e=>e.id===c?{...e,position:[s.x-u.x,s.y-u.y]}:e))}},handleMouseUp=()=>{m(null),x({x:0,y:0})};return((0,n.useEffect)(()=>{if(c)return document.addEventListener("mousemove",handleMouseMove),document.addEventListener("mouseup",handleMouseUp),()=>{document.removeEventListener("mousemove",handleMouseMove),document.removeEventListener("mouseup",handleMouseUp)}},[c,u]),i)?(0,s.jsx)("div",{className:"panel p-8 ".concat(t),children:(0,s.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-2 border-accent-cyan border-t-transparent"})})}):(0,s.jsxs)("div",{className:"panel p-6 ".concat(t),children:[(0,s.jsx)("h2",{className:"text-xl mb-6 text-gray-100 light:text-gray-900",children:"Pipeline Flow"}),(0,s.jsx)("div",{className:"relative overflow-auto bg-gray-700 light:bg-gray-300 rounded-lg",style:{height:"600px"},children:(0,s.jsxs)("svg",{ref:h,className:"w-full h-full",viewBox:"0 0 1200 800",style:{minWidth:"1200px",minHeight:"800px"},children:[(0,s.jsx)("defs",{children:(0,s.jsx)("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:(0,s.jsx)("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#06b6d4"})})}),(()=>{let e=[];return Object.entries(o).forEach(t=>{var n,l;let[o,r]=t,i=a.find(e=>e.name===o);i&&(null===(l=r.main)||void 0===l||null===(n=l[0])||void 0===n||n.forEach((t,n)=>{let l=a.find(e=>e.name===t.node);if(!l)return;let r=i.position[0]+120,d=i.position[1]+25,c=l.position[0],m=l.position[1]+25,u=(r+c)/2,x="M ".concat(r," ").concat(d," Q ").concat(u," ").concat(d," ").concat(c," ").concat(m);e.push((0,s.jsx)("g",{children:(0,s.jsx)("path",{d:x,fill:"none",className:"flow-connection",markerEnd:"url(#arrowhead)"})},"".concat(o,"-").concat(t.node,"-").concat(n)))}))}),e})(),a.map(e=>(0,s.jsxs)("g",{children:[(0,s.jsx)("rect",{x:e.position[0],y:e.position[1],width:"200",height:"50",rx:"8",ry:"8",fill:getNodeColor(e.type),fillOpacity:"0.1",stroke:getNodeColor(e.type),strokeWidth:"2",className:"hover:fill-opacity-20 transition-all duration-200 cursor-move ".concat(c===e.id?"fill-opacity-30":""),onMouseDown:t=>handleNodeMouseDown(t,e)}),(0,s.jsx)("text",{x:e.position[0]+100,y:e.position[1]+30,textAnchor:"middle",className:"text-sm font-medium fill-current text-gray-100 pointer-events-none select-none",onMouseDown:t=>handleNodeMouseDown(t,e),children:e.name})]},e.id))]})})]})}function NodeDetailPanel(e){var t;let{node:a,onUpdateNode:l,onRunNode:o}=e,[r,i]=(0,n.useState)((null==a?void 0:a.todos)||""),[d,c]=(0,n.useState)(""),[m,u]=(0,n.useState)(!1),[x,h]=(0,n.useState)(null);if(!a)return(0,s.jsx)("div",{className:"panel p-8 flex items-center justify-center text-center",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gray-700 flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-2xl",children:"\uD83D\uDD27"})}),(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-100 mb-2",children:"Select a Node"}),(0,s.jsx)("p",{className:"text-muted",children:"Choose a pipeline node from the list to view details and controls"})]})});let handleTodosUpdate=async()=>{try{let e=await fetch("".concat("/data-pipeline/admin","/api/nodes/update"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({node_id:a.node_id,todos:r})});e.ok?(null==l||l({...a,todos:r}),alert("TODOs updated successfully!")):alert("Failed to update TODOs")}catch(e){console.error("Error updating TODOs:",e),alert("Error updating TODOs")}},handleRunNode=async()=>{if(!a.python_cmds){alert("No Python command available for this node");return}u(!0),h(null);try{let e=await fetch("".concat("/data-pipeline/admin","/api/nodes/run"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({node_id:a.node_id,command:a.python_cmds,working_directory:a.link})}),t=await e.json();h(t),null==o||o(a,t)}catch(e){console.error("Error running node:",e),h({success:!1,error:e.message})}finally{u(!1)}};return(0,s.jsxs)("div",{className:"panel space-y-6 select-text",style:{padding:"29px"},children:[(0,s.jsxs)("div",{className:"border-b border-gray-700 pb-4",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("span",{className:"text-2xl",children:{data_fetcher:"\uD83D\uDCE5",data_processor:"⚙️",data_aggregator:"\uD83D\uDCCA",ml_processor:"\uD83E\uDD16",api_fetcher:"\uD83C\uDF10",data_cleaner:"\uD83E\uDDF9",data_merger:"\uD83D\uDD17",structure_creator:"\uD83D\uDCC1",batch_processor:"⚡"}[a.type]||"\uD83D\uDD27"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-gray-100",children:a.name}),(0,s.jsx)("p",{className:"text-sm font-mono text-cyan-400",children:a.node_id})]})]}),(0,s.jsx)("span",{className:"text-sm font-medium px-3 py-1 rounded-full border ".concat("yes"===a.n8n_parallel_safe?"text-emerald-400 border-emerald-400/30 bg-emerald-400/10":"text-orange-400 border-orange-400/30 bg-orange-400/10"),children:"yes"===a.n8n_parallel_safe?"Parallel Safe":"Sequential Only"})]}),(0,s.jsx)("p",{className:"text-muted",children:a.description})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-100 mb-1",children:"Processing Time"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-sm bg-gray-700 px-3 py-1 rounded-lg",children:a.processing_time_est}),"yes"===a.rate_limited&&(0,s.jsx)("span",{className:"text-xs text-orange-400",children:"⚠️ Rate Limited"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-100 mb-1",children:"Folder Size"}),(0,s.jsx)("span",{className:"text-sm bg-gray-700 px-3 py-1 rounded-lg",children:a.folder_size})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-100 mb-1",children:"Dependencies"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-1",children:null===(t=a.dependencies)||void 0===t?void 0:t.split(",").map((e,t)=>(0,s.jsx)("span",{className:"text-xs bg-blue-500/10 text-blue-400 px-2 py-1 rounded",children:e.trim()},t))})]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-100 mb-1",children:"Output Path"}),(0,s.jsx)("span",{className:"text-sm bg-gray-700 px-3 py-1 rounded-lg font-mono",children:a.output_path})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-100 mb-1",children:"Data Sources"}),(0,s.jsx)("span",{className:"text-sm text-muted",children:a.data_sources})]}),a.api_keys_required&&"none"!==a.api_keys_required&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-100 mb-1",children:"API Keys Required"}),(0,s.jsx)("span",{className:"text-sm text-orange-400",children:a.api_keys_required})]})]})]}),a.python_cmds&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-100 mb-2",children:"Python Command"}),(0,s.jsx)("div",{className:"bg-gray-700 rounded-lg p-3 mb-3",children:(0,s.jsx)("code",{className:"text-sm font-mono text-cyan-400",children:a.python_cmds})}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("button",{onClick:handleRunNode,disabled:m,className:"btn-primary ".concat(m?"opacity-50 cursor-not-allowed":""),children:m?"\uD83D\uDD04 Running...":"▶️ Run Process"}),(0,s.jsxs)("span",{className:"text-sm ".concat(m?"text-orange-400":(null==x?void 0:x.success)?"text-emerald-400":(null==x?void 0:x.success)===!1?"text-red-500":"text-gray-400"),children:[m&&"Running...",(null==x?void 0:x.success)===!0&&"✅ Success",(null==x?void 0:x.success)===!1&&"❌ Failed"]})]})]}),x&&(0,s.jsxs)("div",{className:"rounded-lg p-4 ".concat(x.success?"bg-emerald-500/10 border border-emerald-500/30":"bg-red-500/10 border border-red-500/30"),children:[(0,s.jsx)("h4",{className:"font-medium mb-2",children:"Execution Result:"}),(0,s.jsx)("pre",{className:"text-sm font-mono overflow-auto max-h-32",children:x.output||x.error})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-100 mb-2",children:"Team TODOs"}),(0,s.jsx)("textarea",{value:r,onChange:e=>i(e.target.value),className:"w-full h-24 bg-gray-700 border border-gray-600 rounded-lg p-3 text-sm resize-none focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-gray-100",placeholder:""}),(0,s.jsx)("button",{onClick:handleTodosUpdate,className:"btn-accent mt-2",children:"\uD83D\uDCBE Update TODOs"})]}),(0,s.jsx)("div",{className:"border-t border-gray-700 pt-4",children:(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("input",{type:"text",value:d,onChange:e=>c(e.target.value),className:"flex-1 bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-gray-100",placeholder:"Add new TODO item...",onKeyPress:e=>{if("Enter"===e.key&&d.trim()){let e=r?"".concat(r,"\n- ").concat(d.trim()):"- ".concat(d.trim());i(e),c("")}}}),(0,s.jsx)("button",{onClick:()=>{if(d.trim()){let e=r?"".concat(r,"\n- ").concat(d.trim()):"- ".concat(d.trim());i(e),c("")}},className:"btn-accent px-4",disabled:!d.trim(),children:"Add"})]})})]})}function DraggableModal(e){let{onClose:t,onNodeSelect:a}=e,[l,o]=(0,n.useState)({x:100,y:100}),[r,i]=(0,n.useState)(!1),[d,c]=(0,n.useState)({x:0,y:0}),m=(0,n.useRef)(null),handleMouseMove=e=>{r&&o({x:e.clientX-d.x,y:e.clientY-d.y})},handleMouseUp=()=>{i(!1)};return(0,n.useEffect)(()=>{if(r)return document.addEventListener("mousemove",handleMouseMove),document.addEventListener("mouseup",handleMouseUp),()=>{document.removeEventListener("mousemove",handleMouseMove),document.removeEventListener("mouseup",handleMouseUp)}},[r,d,l]),(0,s.jsxs)("div",{ref:m,className:"absolute bg-gray-800 border border-gray-700 rounded-3xl shadow-2xl w-80 max-h-96 overflow-hidden light:bg-gray-200 light:border-gray-400",style:{left:"".concat(l.x,"px"),top:"".concat(l.y,"px"),zIndex:50},onMouseDown:e=>{e.target.closest(".drag-handle")&&(i(!0),c({x:e.clientX-l.x,y:e.clientY-l.y}))},children:[(0,s.jsxs)("div",{className:"drag-handle flex items-center justify-between p-4 bg-gray-700 border-b border-gray-600 cursor-move light:bg-gray-300 light:border-gray-400",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-100 light:text-gray-900 select-none",children:"Nodes"}),(0,s.jsx)("button",{onClick:t,className:"w-8 h-8 rounded-full bg-gray-600 hover:bg-red-600 flex items-center justify-center transition-colors duration-200 light:bg-gray-400 light:hover:bg-red-500",children:(0,s.jsx)("span",{className:"text-gray-100 text-xl font-bold light:text-gray-900",children:"\xd7"})})]}),(0,s.jsx)("div",{className:"overflow-y-auto max-h-80",style:{padding:"30px"},children:(0,s.jsx)(NodesList,{onNodeSelect:a,className:"bg-transparent border-none p-0"})})]})}function FloatingDetailPanel(e){let{node:t,onClose:a,onUpdateNode:l,onRunNode:o}=e,[r,i]=(0,n.useState)({x:200,y:150}),[d,c]=(0,n.useState)(!1),[m,u]=(0,n.useState)({x:0,y:0}),x=(0,n.useRef)(null),handleMouseMove=e=>{d&&i({x:e.clientX-m.x,y:e.clientY-m.y})},handleMouseUp=()=>{c(!1)};return((0,n.useEffect)(()=>{if(d)return document.addEventListener("mousemove",handleMouseMove),document.addEventListener("mouseup",handleMouseUp),()=>{document.removeEventListener("mousemove",handleMouseMove),document.removeEventListener("mouseup",handleMouseUp)}},[d,m,r]),t)?(0,s.jsxs)("div",{ref:x,className:"absolute bg-gray-800 border border-gray-700 rounded-3xl shadow-2xl w-144 max-h-[80vh] overflow-hidden light:bg-gray-200 light:border-gray-400",style:{left:"".concat(r.x,"px"),top:"".concat(r.y,"px"),zIndex:50},onMouseDown:e=>{e.target.closest(".drag-handle")&&(c(!0),u({x:e.clientX-r.x,y:e.clientY-r.y}))},children:[(0,s.jsxs)("div",{className:"drag-handle flex items-center justify-between p-4 bg-gray-700 border-b border-gray-600 cursor-move light:bg-gray-300 light:border-gray-400",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-100 light:text-gray-900 select-none",children:"Node Details"}),(0,s.jsx)("button",{onClick:a,className:"w-8 h-8 rounded-full bg-gray-600 hover:bg-red-600 flex items-center justify-center transition-colors duration-200 light:bg-gray-400 light:hover:bg-red-500",children:(0,s.jsx)("span",{className:"text-gray-100 text-xl font-bold light:text-gray-900",children:"\xd7"})})]}),(0,s.jsx)("div",{className:"overflow-y-auto max-h-[calc(80vh-60px)]",children:(0,s.jsx)(NodeDetailPanel,{node:t,onUpdateNode:l,onRunNode:o})})]}):null}function Home(){let[e,t]=(0,n.useState)(null),[a,l]=(0,n.useState)("column"),[r,i]=(0,n.useState)(!1),[d,c]=(0,n.useState)(!1),handleNodeSelect=e=>{t(e),c(!0)};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(o(),{children:[(0,s.jsx)("title",{children:"Data Pipeline Admin"}),(0,s.jsx)("meta",{name:"description",content:"Data Pipeline Administration Interface"}),(0,s.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,s.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,s.jsxs)("div",{className:"min-h-screen bg-gray-900 light:bg-yellow-50",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-700 light:border-gray-400 relative z-50",children:[(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("button",{onClick:()=>l("column"),className:"btn text-sm px-3 py-2 ".concat("column"===a?"btn-primary":""),title:"Column Layout",children:"▦"}),(0,s.jsx)("button",{onClick:()=>l("full-width"),className:"btn text-sm px-3 py-2 ".concat("full-width"===a?"btn-primary":""),title:"Full Width Layout",children:"▬"}),(0,s.jsx)("button",{onClick:()=>{l("floating"),i(!0)},className:"btn text-sm px-3 py-2 ".concat("floating"===a?"btn-primary":""),title:"Floating Layout",children:"⧉"})]}),(0,s.jsx)(DarkModeToggle,{})]}),(0,s.jsxs)("div",{className:"flex h-[calc(100vh-81px)]",children:["column"===a&&(0,s.jsx)("div",{className:"w-[30%] border-r border-gray-700 light:border-gray-400 p-6 overflow-y-auto",children:(0,s.jsx)(NodesList,{onNodeSelect:handleNodeSelect,className:"h-auto"})}),(0,s.jsx)("div",{className:"flex-1 ".concat("column"===a?"w-[70%]":"w-full"),children:(0,s.jsx)("div",{className:"h-full",children:(0,s.jsxs)("div",{className:"h-full p-6",children:[(0,s.jsx)(FlowChart,{className:"h-full"}),"full-width"===a&&(0,s.jsx)("div",{className:"mt-6",id:"listBottom",children:(0,s.jsx)(NodesList,{onNodeSelect:handleNodeSelect,className:"h-auto max-h-80"})})]})})})]}),"floating"===a&&r&&(0,s.jsx)("div",{className:"fixed inset-0 z-40",id:"listPopup",children:(0,s.jsx)(DraggableModal,{onClose:()=>i(!1),onNodeSelect:e=>{handleNodeSelect(e)}})}),d&&e&&(0,s.jsx)("div",{className:"fixed inset-0 z-45 pointer-events-none",children:(0,s.jsx)("div",{className:"pointer-events-auto",children:(0,s.jsx)(FloatingDetailPanel,{node:e,onClose:()=>c(!1),onUpdateNode:e=>{t(e)},onRunNode:(e,t)=>{console.log("Node run result:",{node:e,result:t})}})})})]})]})}},9008:function(e,t,a){e.exports=a(9201)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);