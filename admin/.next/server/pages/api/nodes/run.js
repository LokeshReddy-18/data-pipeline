"use strict";(()=>{var e={};e.id=26,e.ids=[26],e.modules={145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},147:e=>{e.exports=require("fs")},17:e=>{e.exports=require("path")},678:(e,r,s)=>{s.r(r),s.d(r,{config:()=>m,default:()=>p,routeModule:()=>f});var o={};s.r(o),s.d(o,{default:()=>handler});var t=s(802),n=s(44),d=s(249);let u=require("child_process");var i=s(17),a=s.n(i),c=s(147),l=s.n(c);function handler(e,r){if("POST"===e.method)try{let{node_id:s,command:o,working_directory:t}=e.body;if(!s||!o)return r.status(400).json({success:!1,error:"node_id and command are required"});let n=a().join(process.cwd(),"..",t||"");if(!l().existsSync(n))return r.status(400).json({success:!1,error:`Working directory does not exist: ${n}`});(0,u.exec)(o,{cwd:n,timeout:3e4,maxBuffer:1048576},(e,n,d)=>{if(e)return console.error(`Execution error for ${s}:`,e),r.status(500).json({success:!1,error:e.message,stderr:d,node_id:s});console.log(`Successfully executed ${s}: ${o}`),r.status(200).json({success:!0,output:n,stderr:d,node_id:s,command:o,working_directory:t})})}catch(e){console.error("Error running node:",e),r.status(500).json({success:!1,error:"Failed to execute node command"})}else r.setHeader("Allow",["POST"]),r.status(405).end(`Method ${e.method} Not Allowed`)}let p=(0,d.l)(o,"default"),m=(0,d.l)(o,"config"),f=new t.PagesAPIRouteModule({definition:{kind:n.x.PAGES_API,page:"/api/nodes/run",pathname:"/api/nodes/run",bundlePath:"",filename:""},userland:o})}};var r=require("../../../webpack-api-runtime.js");r.C(e);var __webpack_exec__=e=>r(r.s=e),s=r.X(0,[222],()=>__webpack_exec__(678));module.exports=s})();